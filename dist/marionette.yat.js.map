{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 62e49f3e449cbf0b256f","webpack:///external \"_\"","webpack:///external \"Marionette\"","webpack:///./src/helpers/mixin.js","webpack:///external \"Backbone\"","webpack:///./src/YatApp.js","webpack:///./src/mixins/get-option-property.js","webpack:///./src/mixins/radioable.js","webpack:///./src/mixins/startable.js","webpack:///./src/mixins/get-name-label.js","webpack:///./src/YatRouter.js","webpack:///./src/helpers/isKnownCtor.js","webpack:///./src/mixins/stateable.js","webpack:///./src/YatError.js","webpack:///./src/mixins/childrenable.js","webpack:///./src/marionette.yat.js","webpack:///./src/YatPage.js","webpack:///external \"Backbone.Radio\"","webpack:///./src/models/link.js","webpack:///./src/models/model.js","webpack:///./src/YatObject.js","webpack:///./src/YatPageManager.js","webpack:///./src/mixins/Mixins.js","webpack:///./src/helpers/Helpers.js"],"names":["mixWithMixinFunc","ClassDefinition","mixin","mixWithObject","MixedClass","args","extend","prototype","mixWithOne","mixWith","mixins","length","shift","with","Base","apply","opts","skip","region","getProperty","_region","_initRegion","pageManager","_pageManagers","push","prefix","getName","console","warn","listenTo","eventName","prefixedEventName","triggerMethod","rebuild","_menuTree","managers","links","_","chain","map","manager","getLinks","flatten","value","Application","normalizeOptions","options","deep","force","getDeepOptions","getValue","deepMethodName","key","context","isObject","get","deepOpts","call","undefined","Mixin","initRadioOnInitialize","_initRadio","_channel","channelName","channel","getChannel","request","trigger","STATES","INITIALIZED","STARTING","RUNNING","STOPPING","WAITING","DESTROYED","STATE_KEY","getPropertyPromise","propertyName","rawPromises","promises","each","promiseArg","isFunction","Promise","all","addPropertyPromise","promise","initializeStartable","constructor","Startable","Stateable","_registerStartableLifecycleListeners","_setLifeState","canNotBeStarted","_ensureStartableCanBeStarted","reject","declineReason","isStartNotAllowed","currentState","_getLifeState","_tryMergeStartOptions","_getStartPromise","then","triggerStart","canNotBeStopped","_ensureStartableCanBeStopped","isStopNotAllowed","_tryMergeStopOptions","_getStopPromise","triggerStop","newstate","setState","getState","state","states","some","_isLifeState","_isLifeStateIn","on","mergeOptions","mergeoptions","throwError","message","destroyed","name","isNotIntact","_ensureStartableIsIntact","notIdle","_isInProcess","_ensureStartableIsIdle","allowStartWithoutStop","running","allowStopWithoutStart","_getStartPromises","_getStartUserPromise","_getStartParentPromise","parent","result","_getStopPromises","_getStopUserPromise","id","cid","hash","routes","controller","handlerContext","action","processAppRoutes","ctors","Model","Collection","View","Router","Object","arg","ctor","BaseClass","initializeStateable","_state","_this","propertyValue","_triggerStateChange","toString","Error","CHILDREN_FIELD","initializeChildrenable","_initializeParrent","_initializeChildren","children","getChildren","getParent","_children","child","childContext","_normalizeChildContext","Child","getOption","filter","f","childOptions","getChildOptions","Childrenable","marionetteYat","Helpers","Mixins","App","Page","PageManager","Yat","initializeYatPage","_initializeModels","_initializeRoute","_tryCreateRouter","_tryProxyToRadio","_layoutView","isDestroyed","buildLayout","Layout","model","collection","buildLayoutOptions","page","rawOptions","fetch","addStartPromise","hashes","_routeHandler","concat","getRouteHash","level","_linkModel","url","getRoute","label","getLabel","_getSublinks","getLinkModel","link","sublinks","col","addModel","addCollection","route","start","relative","parentRoute","startsWith","substring","create","router","_createAppRouter","size","_proxyEventToRadio","allowed","indexOf","radioTrigger","defaults","target","YatPageManager","_initializeYatPageManager","passToChildren","setRouter","_initPageManagerRadio","createRouter","_radioInitialized","_registerRadioHandlers","_proxyRadioEvents","_radioHandlersRegistered","_pageBeforeStart","_pageStart","_radioEventsProxied","proxyRadioEvents","event","current","stop","GetNameLabel","GetOptionProperty","Radioable","isKnownCtor"],"mappings":"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","file":"marionette.yat.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"_\"), require(\"Marionette\"), require(\"Backbone\"), require(\"Backbone.Radio\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"_\", \"Marionette\", \"Backbone\", \"Backbone.Radio\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"marionetteYat\"] = factory(require(\"_\"), require(\"Marionette\"), require(\"Backbone\"), require(\"Backbone.Radio\"));\n\telse\n\t\troot[\"marionetteYat\"] = factory(root[\"_\"], root[\"Marionette\"], root[\"Backbone\"], root[\"Backbone.Radio\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_16__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 62e49f3e449cbf0b256f","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"_\"\n// module id = 0\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Marionette\"\n// module id = 1\n// module chunks = 0","import _ from 'underscore';\r\n\r\nfunction mixWithMixinFunc(ClassDefinition, mixin){\r\n\treturn mixin(ClassDefinition);\r\n}\r\n\r\nfunction mixWithObject(ClassDefinition, mixin){\r\n\tlet MixedClass = class extends ClassDefinition{\r\n\t\tconstructor(...args){\r\n\t\t\tsuper(...args);\r\n\t\t}\r\n\t};\r\n\t_.extend(MixedClass.prototype, mixin);\r\n\treturn MixedClass;\r\n}\r\n\r\nfunction mixWithOne(ClassDefinition, mixin)\r\n{\r\n\tif(typeof mixin === 'function')\r\n\t\treturn mixWithMixinFunc(ClassDefinition, mixin);\r\n\telse if(typeof mixin === 'object')\r\n\t\treturn mixWithObject(ClassDefinition, mixin);\r\n\telse\r\n\t\treturn ClassDefinition;\r\n}\r\n\r\n\r\nfunction mixWith(...mixins){\r\n\t\r\n\tlet MixedClass = this;\r\n\r\n\tif(!mixins || !mixins.length) return this;\r\n\r\n\r\n\twhile(mixins.length){\r\n\t\tlet mixin = mixins.shift();\r\n\t\tMixedClass = mixWithOne(MixedClass, mixin);\r\n\t}\r\n\r\n\tdelete this.with;\r\n\r\n\treturn MixedClass;\r\n}\r\n\r\nfunction mixin(Base){\r\n\treturn class extends Base {\r\n\t\tconstructor(...args){\r\n\t\t\tsuper(...args);\r\n\t\t}\r\n\t\tstatic with(...mixins){\r\n\t\t\treturn mixWith.apply(this, mixins);\r\n\t\t} \r\n\t};\r\n}\r\n\r\n\r\n\r\nexport default mixin;\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/mixin.js","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Backbone\"\n// module id = 3\n// module chunks = 0","import Mn from 'backbone.marionette';\r\nimport mixin from './helpers/mixin.js';\r\n\r\nimport GetOptionProperty from './mixins/get-option-property.js';\r\nimport RadioMixin from './mixins/radioable.js';\r\nimport Startable from './mixins/startable.js';\r\nimport Childrenable from './mixins/childrenable.js';\r\nimport {Collection} from 'backbone';\r\n\r\nexport default class extends mixin(Mn.Application).with(GetOptionProperty, RadioMixin, Childrenable, Startable){\r\n\tconstructor(...args){\r\n\t\tsuper(...args);\r\n\t}\r\n\tget initRadioOnInitialize() { return true; }\r\n\t_initRegion(opts = {skip:true}){\r\n\t\tif(opts.skip) return;\r\n\t\tvar region = this.getProperty('region');\r\n\t\tthis.region = region;\r\n\t\tsuper._initRegion();\r\n\t}\r\n\tgetRegion() {\r\n\t\tif(!this._region) this._initRegion({skip:false});\r\n\t\treturn this._region;\r\n\t}\r\n\taddPageManager(pageManager){\r\n\t\tthis._pageManagers || (this._pageManagers = []);\r\n\t\tthis._pageManagers.push(pageManager);\r\n\r\n\t\tlet prefix = pageManager.getName();\r\n\t\tif(!prefix){\r\n\t\t\tconsole.warn('pageManager prefix not defined');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.listenTo(pageManager, 'all', (eventName, ...args) => {\r\n\t\t\tlet prefixedEventName = prefix + ':' + eventName;\r\n\t\t\tthis.triggerMethod(prefixedEventName, ...args);\r\n\t\t});\r\n\r\n\t}\r\n\thasPageManagers(){\r\n\t\treturn this._pageManagers && this._pageManagers.length > 0;\r\n\t}\r\n\tgetMenuTree(opts = {rebuild:false}){\r\n\t\tif(this._menuTree && !opts.rebuild) return this._menuTree;\r\n\t\tlet managers = this._pageManagers || [];\r\n\t\tlet links = _(managers).chain().map((manager) => manager.getLinks()).flatten().value();\r\n\t\tthis._menuTree = new Collection(links);\r\n\t\treturn this._menuTree;\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/YatApp.js","import _ from 'underscore';\r\nimport isKnownCtor from '../helpers/isKnownCtor.js';\r\n\r\nfunction normalizeOptions(options){\r\n\treturn _.extend({}, {deep: true, force: true, args: []}, options);\r\n}\r\n\r\nfunction getDeepOptions(options){\r\n\treturn _.extend({}, options, {deep:false, force: false});\r\n}\r\n\r\n\r\nfunction getValue(deepMethodName, key)\r\n{\r\n\tconst context = deepMethodName === 'getOption' ? this\r\n\t\t\t\t\t: deepMethodName === 'getProperty' &&  _.isObject(this.options) ? this.options\r\n\t\t\t\t\t: null;\r\n\tif(context == null) return;\r\n\r\n\treturn context[key];\r\n\r\n}\r\n\r\nfunction get(key, options, deepMethodName)\r\n{\r\n\t\r\n\tif(key == null) return;\r\n\r\n\tlet opts = normalizeOptions(options);\r\n\tlet deepOpts = getDeepOptions(options);\r\n\t\r\n\tlet value = getValue.call(this, deepMethodName, key);\r\n\r\n\tif(value === undefined && opts.deep)\r\n\t\tvalue = this[deepMethodName](key, deepOpts);\r\n\r\n\tif(typeof value !== 'function' || isKnownCtor(value) || !opts.force) return value;\r\n\r\n\treturn value.apply(this, opts.args);\r\n}\r\n\r\n\r\nexport default (Base) => class extends Base {\r\n\tconstructor(...args){\r\n\t\tsuper(...args);\r\n\t}\r\n\tgetProperty(key, options = {deep:true, force:true, args:[]}){\r\n\r\n\t\treturn get.call(this, key, options, 'getOption');\r\n\r\n\t}\r\n\tgetOption(key, options = {deep:true, force:true, args:[]}){\r\n\r\n\t\treturn get.call(this, key, options, 'getProperty');\r\n\r\n\t}\r\n\t\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/mixins/get-option-property.js","export default (Base) => {\r\n\tclass Mixin extends Base{\r\n\t\tconstructor(...args){\r\n\t\t\tsuper(...args);\r\n\t\t\tlet initRadioOnInitialize = !(this.getProperty('initRadioOnInitialize') === true);\r\n\t\t\tthis._initRadio({skip: initRadioOnInitialize});\r\n\t\t}\r\n\t\tgetChannel () {\r\n\t\t\tif(!this._channel) this._initRadio({skip:false});\r\n\t\t\treturn this._channel;\r\n\t\t}\r\n\t\t_initRadio(opts = {skip:true}){\r\n\t\t\tif(opts.skip == true) return;\r\n\r\n\t\t\tlet channelName = this.getProperty('channelName');\r\n\t\t\tif(!channelName){\r\n\t\t\t\tlet channel = this.getProperty('channel');\r\n\t\t\t\tif(channel)\r\n\t\t\t\t\tthis.channelName = channel.channelName;\r\n\t\t\t}\r\n\r\n\t\t\tsuper._initRadio();\r\n\t\t}\r\n\t\tradioRequest(...args){\r\n\t\t\tlet channel = this.getChannel();\r\n\t\t\tif(channel) channel.request(...args);\r\n\t\t}\r\n\t\tradioTrigger(...args){\r\n\t\t\tlet channel = this.getChannel();\r\n\t\t\tif(channel) channel.trigger(...args);\r\n\t\t}\r\n\t}\r\n\r\n\treturn Mixin;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/mixins/radioable.js","import _ from 'underscore';\r\nimport mixin from '../helpers/mixin.js';\r\nimport State from './stateable.js';\r\nimport YatError from '../YatError.js';\r\n\r\nconst STATES = {\r\n\tINITIALIZED: 'initialized',\r\n\tSTARTING: 'starting',\r\n\tRUNNING: 'running',\r\n\tSTOPPING: 'stopping',\r\n\tWAITING: 'waiting',\r\n\tDESTROYED: 'destroyed'\r\n}\r\n\r\nconst STATE_KEY = 'life';\r\n\r\n\r\nfunction getPropertyPromise(context, propertyName){\r\n\tlet rawPromises = context[propertyName] || [];\r\n\tlet promises = [];\r\n\t_(rawPromises).each((promiseArg) => {\r\n\t\tif(_.isFunction(promiseArg))\r\n\t\t\tpromises.push(promiseArg.call(this));\r\n\t\telse\r\n\t\t\tpromises.push(promiseArg);\r\n\t});\r\n\treturn Promise.all(promises);\r\n}\r\n\r\nfunction addPropertyPromise(context, propertyName, promise){\r\n\tcontext[propertyName] || (context[propertyName] = []);\r\n\tlet promises = context[propertyName];\r\n\tpromises.push(promise);\r\n}\r\n\r\n\r\n\r\nexport default (Base) => {\r\n\tclass Mixin extends mixin(Base).with(State) {\r\n\t\tconstructor(...args){\r\n\t\t\tsuper(...args);\r\n\t\t\tthis.initializeStartable();\r\n\t\t}\r\n\r\n\t\tinitializeStartable(){\r\n\t\t\t//console.log('initialize Startable', this.constructor.Startable)\r\n\t\t\tif(!(this.constructor.Startable && this.constructor.Stateable)) return;\r\n\r\n\t\t\tthis._registerStartableLifecycleListeners();\r\n\t\t\tthis._setLifeState(STATES.INITIALIZED);\r\n\t\t\t//console.log('initialize Startable END')\r\n\t\t}\t\r\n\r\n\t\tstart(options){\r\n\t\t\tlet canNotBeStarted = this._ensureStartableCanBeStarted();\r\n\t\t\tif(canNotBeStarted){\r\n\t\t\t\tthis.triggerMethod('start:decline',canNotBeStarted);\r\n\t\t\t\treturn Promise.reject(canNotBeStarted);\t\t\t\t\r\n\t\t\t}\r\n\t\t\tlet declineReason = this.isStartNotAllowed(options);\r\n\t\t\tif(declineReason){\r\n\t\t\t\tthis.triggerMethod('start:decline', declineReason);\r\n\t\t\t\treturn Promise.reject(declineReason);\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tvar currentState = this._getLifeState();\r\n\t\t\tthis._tryMergeStartOptions(options);\t\t\r\n\t\t\tthis.triggerMethod('before:start', this, options);\r\n\t\t\t\r\n\t\t\tlet promise = this._getStartPromise();\r\n\t\t\t\r\n\t\t\treturn promise.then(() => {\r\n\t\t\t\tthis.triggerStart(options)\r\n\t\t\t}, () => {\r\n\t\t\t\tthis._setLifeState(currentState);\r\n\t\t\t});\t\r\n\r\n\t\t}\r\n\r\n\t\ttriggerStart(options) {\r\n\t\t\tthis.triggerMethod('start', options);\r\n\t\t}\r\n\r\n\t\tstop(options){\r\n\t\t\tlet canNotBeStopped = this._ensureStartableCanBeStopped();\r\n\t\t\tif(canNotBeStopped){\r\n\t\t\t\tthis.triggerMethod('stop:decline',canNotBeStopped);\r\n\t\t\t\treturn Promise.reject(canNotBeStopped);\t\t\t\t\r\n\t\t\t}\r\n\t\t\tlet declineReason = this.isStopNotAllowed(options);\r\n\t\t\tif(declineReason){\r\n\t\t\t\tthis.triggerMethod('stop:decline', declineReason);\r\n\t\t\t\treturn Promise.reject(declineReason);\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\tvar currentState = this._getLifeState();\r\n\r\n\t\t\tthis._tryMergeStopOptions(options);\r\n\t\t\tthis.triggerMethod('before:stop', this, options);\r\n\r\n\t\t\tlet promise = this._getStopPromise();\r\n\r\n\t\t\treturn promise.then(() => {\r\n\t\t\t\tthis.triggerStop(options)\r\n\t\t\t}, () => {\r\n\t\t\t\tthis._setLifeState(currentState);\r\n\t\t\t});\t\r\n\r\n\t\t}\r\n\t\ttriggerStop(options) {\r\n\t\t\tthis.triggerMethod('stop', options);\r\n\t\t}\r\n\r\n\t\tisStartNotAllowed(){ }\r\n\t\tisStopNotAllowed(){ }\r\n\r\n\t\taddStartPromise(promise){\r\n\t\t\taddPropertyPromise(this,'startPromises', promise);\r\n\t\t}\r\n\t\taddStopPromise(promise){\r\n\t\t\taddPropertyPromise(this,'stopPromises', promise);\r\n\t\t}\r\n\r\n\t\t//lifecycle state helpers\r\n\t\t_setLifeState(newstate){\r\n\t\t\tthis.setState(STATE_KEY, newstate);\r\n\t\t}\r\n\t\t_getLifeState(){\r\n\t\t\treturn this.getState(STATE_KEY);\r\n\t\t}\r\n\t\t_isLifeState(state){\r\n\t\t\treturn this._getLifeState() === state;\r\n\t\t}\r\n\t\t_isLifeStateIn(...states){\r\n\t\t\treturn _(states).some((state) => this._isLifeState(state));\r\n\t\t}\r\n\r\n\t\t_isInProcess(){\r\n\t\t\treturn this._isLifeStateIn(STATES.STARTING, STATES.STOPPING);\r\n\t\t}\r\n\r\n\r\n\t\t_registerStartableLifecycleListeners(){\r\n\t\t\tthis.on('before:start', () => this._setLifeState(STATES.STARTING));\r\n\t\t\tthis.on('start', () => this._setLifeState(STATES.RUNNING));\r\n\t\t\tthis.on('before:stop',() => this._setLifeState(STATES.STOPPING));\r\n\t\t\tthis.on('stop',() => this._setLifeState(STATES.WAITING));\r\n\t\t\tthis.on('destroy',() => this._setLifeState(STATES.DESTROYED))\r\n\t\t}\t\r\n\r\n\t\t_tryMergeStartOptions(options){\r\n\t\t\tif(!this.mergeOptions) return;\r\n\t\t\tvar mergeoptions = this.getProperty('mergeStartOptions') || [];\r\n\t\t\tthis.mergeOptions(options, mergeoptions);\r\n\t\t}\r\n\t\t_tryMergeStopOptions(options){\r\n\t\t\tif(!this.mergeOptions) return;\r\n\t\t\tvar mergeoptions = this.getProperty('mergeStopOptions') || [];\r\n\t\t\tthis.mergeOptions(options, mergeoptions);\r\n\t\t}\t\r\n\r\n\t\t_ensureStartableIsIntact(opts = {throwError: false}) {\r\n\t\t\tlet message = 'Startable has already been destroyed and cannot be used.';\r\n\t\t\tlet destroyed = this._isLifeState(STATES.DESTROYED);\r\n\t\t\tif(opts.throwError && destroyed){\r\n\t\t\t\tthrow new YatError({\r\n\t\t\t\t\tname: 'StartableLifecycleError',\r\n\t\t\t\t\tmessage: message\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse if(destroyed){\r\n\t\t\t\treturn message;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t_ensureStartableIsIdle(opts = {throwError:false}){\r\n\t\t\tlet message = 'Startable is not idle. current state: ' + this._getLifeState();\r\n\t\t\tlet isNotIntact = this._ensureStartableIsIntact(opts);\r\n\t\t\tlet notIdle = this._isInProcess();\r\n\t\t\tif(opts.throwError && notIdle){\r\n\t\t\t\tthrow new YatError({\r\n\t\t\t\t\tname: 'StartableLifecycleError',\r\n\t\t\t\t\tmessage: message\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse if(isNotIntact){\r\n\t\t\t\treturn isNotIntact;\r\n\t\t\t}\r\n\t\t\telse if(notIdle){\r\n\t\t\t\treturn message;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t_ensureStartableCanBeStarted(opts = {throwError:false}){\r\n\t\t\t\r\n\t\t\tlet message = 'Startable has already been started.';\r\n\t\t\tlet notIdle = this._ensureStartableIsIdle(opts);\r\n\t\t\tlet allowStartWithoutStop = this.getProperty('allowStartWithoutStop') === true;\r\n\t\t\tif(!notIdle && allowStartWithoutStop) return;\r\n\r\n\t\t\tlet running = this._isLifeState(STATES.RUNNING);\r\n\t\t\tif(opts.throwError && running){\r\n\t\t\t\tthrow new YatError({\r\n\t\t\t\t\tname: 'StartableLifecycleError',\r\n\t\t\t\t\tmessage: message\r\n\t\t\t\t});\r\n\t\t\t}else if(notIdle){\r\n\t\t\t\treturn notIdle;\r\n\t\t\t}else if(running){\r\n\t\t\t\treturn message;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t_ensureStartableCanBeStopped(opts = {throwError:false}){\r\n\t\t\t\r\n\t\t\tlet message = 'Startable should be in `running` state.';\r\n\t\t\tlet notIdle = this._ensureStartableIsIdle(opts);\r\n\r\n\t\t\tlet allowStopWithoutStart = this.getProperty('allowStopWithoutStart') === true;\r\n\t\t\tif(!notIdle && allowStopWithoutStart) return;\r\n\r\n\t\t\tlet running = this._isLifeState(STATES.RUNNING);\r\n\r\n\t\t\tif(opts.throwError && !running){\r\n\t\t\t\tthrow new YatError({\r\n\t\t\t\t\tname: 'StartableLifecycleError',\r\n\t\t\t\t\tmessage: message\r\n\t\t\t\t});\r\n\t\t\t}else if(notIdle){\r\n\t\t\t\treturn notIdle;\r\n\t\t\t}else if(!running){\r\n\t\t\t\treturn message;\r\n\t\t\t}\r\n\r\n\t\t}\t\r\n\t\t\r\n\t\t_getStartPromise(){\r\n\t\t\treturn Promise.all(this._getStartPromises());\r\n\t\t}\r\n\t\t_getStartPromises(){\r\n\t\t\tlet promises = [];\r\n\t\t\tpromises.push(this._getStartUserPromise());\r\n\t\t\tpromises.push(this._getStartParentPromise());\r\n\t\t\treturn promises;\r\n\t\t}\r\n\r\n\t\t_getStartUserPromise(){\r\n\t\t\treturn getPropertyPromise(this,'startPromises');\r\n\t\t}\r\n\t\t_getStartParentPromise(){\r\n\t\t\tvar parent = _.result(this, 'getParent');\r\n\t\t\tif(_.isObject(parent) && _.isFunction(parent._getStartPromise))\r\n\t\t\t\treturn parent._getStartPromise();\r\n\t\t}\r\n\t\t_getStopPromise(){\r\n\t\t\treturn Promise.all(this._getStopPromises());\r\n\t\t}\r\n\t\t\r\n\t\t_getStopPromises(){\r\n\t\t\tlet promises = [];\r\n\t\t\tpromises.push(this._getStopUserPromise());\r\n\t\t\treturn promises;\r\n\t\t}\t\r\n\t\t_getStopUserPromise(){\r\n\t\t\treturn getPropertyPromise(this,'stopPromises');\r\n\t\t}\r\n\t\t_getStopParentPromise(){\r\n\t\t\tvar parent = _.result(this, 'getParent');\r\n\t\t\tif(_.isObject(parent) && _.isFunction(parent._getStopPromise))\r\n\t\t\t\treturn parent._getStartPromise();\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\t}\r\n\r\n\tMixin.Startable = true;\r\n\r\n\treturn Mixin;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/mixins/startable.js","export default (Base) => class extends Base {\r\n\tgetName(){\r\n\t\treturn this.getProperty('name') || this.id || this.cid;\r\n\t}\r\n\tgetLabel(){\r\n\t\treturn this.getProperty('label') || this.getName();\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/mixins/get-name-label.js","import _ from 'underscore';\r\nimport {AppRouter} from 'backbone.marionette';\r\nexport default class extends AppRouter {\r\n\tconstructor(hash){\r\n\t\tsuper();\r\n\t\tlet routes = {};\r\n\t\tlet controller = {};\r\n\r\n\t\t_(hash).each((handlerContext, key) => {\r\n\t\t\troutes[key] = key;\r\n\t\t\tcontroller[key] = handlerContext.action;\r\n\t\t});\r\n\t\tthis.processAppRoutes(controller, routes);\r\n\t}\r\n\t// onRoute(...args){\r\n\t// \tconsole.log(...args);\r\n\t// }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/YatRouter.js","import _ from 'underscore';\r\nimport Bb from 'backbone';\r\nimport Mn from 'backbone.marionette';\r\n\r\n//console.log('backbone', Bb != null);\r\n\r\nconst ctors = [\r\n\tBb.Model,\r\n\tBb.Collection,\r\n\tBb.View,\r\n\tBb.Router,\r\n\tMn.Object\r\n];\r\n\r\nexport default (arg) => {\r\n\treturn _.isFunction(arg)\r\n\t&& _(ctors).some((ctor) => arg === ctor || arg.prototype instanceof ctor);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/isKnownCtor.js","import _ from 'underscore';\r\n\r\nexport default (BaseClass) => {\r\n\tclass Mixin extends BaseClass {\r\n\t\tconstructor(...args){\r\n\t\t\tsuper(...args);\r\n\t\t\tthis.initializeStateable();\r\n\t\t}\r\n\t\t\r\n\t\t//static get Stateable() { return true; }\r\n\r\n\t\tinitializeStateable(){\r\n\t\t\tthis._state = {};\r\n\t\t}\r\n\t\tgetState(key){\r\n\t\t\tconst state = this._state;\r\n\t\t\tif(!key) return state\r\n\t\t\telse return state[key];\r\n\t\t}\r\n\t\tsetState(key, value, options){\r\n\t\t\t\r\n\t\t\tif(key == null) return;\r\n\r\n\t\t\tif(typeof key === 'object'){\r\n\t\t\t\tconst _this = this;\r\n\t\t\t\toptions = value;\r\n\t\t\t\tvalue = key;\r\n\t\t\t\t_(value).each((propertyValue, propertyName) => _this.setState(propertyName, propertyValue, options));\r\n\t\t\t\tthis._triggerStateChange(value, options);\r\n\t\t\t}else{\r\n\t\t\t\tconst state = this.getState();\r\n\t\t\t\tstate[key] = value;\r\n\t\t\t\tthis._triggerStateChange(key, value, options);\r\n\t\t\t}\r\n\t\t}\r\n\t\t_triggerStateChange(key, value, options){\r\n\r\n\t\t\tif(!_.isFunction(this.triggerMethod)) return;\r\n\r\n\t\t\tif(typeof key !== 'object'){\r\n\t\t\t\tthis.triggerMethod('state:' + key, value, options);\r\n\t\t\t\tif(value === true || value === false)\r\n\t\t\t\t\tthis.triggerMethod('state:' + key + ':' + value.toString(), options);\r\n\t\t\t}else{\r\n\t\t\t\t//key is a hash of states\r\n\t\t\t\t//value is options\r\n\t\t\t\toptions = value;\r\n\t\t\t\tvalue = key;\r\n\t\t\t\tthis.triggerMethod('state', value, options);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tMixin.Stateable = true;\r\n\r\n\treturn Mixin;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/mixins/stateable.js","import Mn from 'backbone.marionette';\r\n\r\nexport default class extends Mn.Error {\r\n\tconstructor(...args){ super(...args); }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/YatError.js","import _ from 'underscore';\r\n\r\nconst CHILDREN_FIELD = '_children';\r\n\r\nexport default (Base) => {\r\n\tclass Mixin extends Base {\r\n\t\tconstructor(...args) {\r\n\t\t\tsuper(...args);\r\n\t\t\tthis.initializeChildrenable(...args);\r\n\t\t}\r\n\t\tinitializeChildrenable(options = {}){\r\n\t\t\tthis._initializeParrent(options);\r\n\t\t\tthis._initializeChildren(options);\r\n\t\t}\r\n\r\n\t\thasChildren(){\r\n\t\t\tlet children = this.getChildren();\r\n\t\t\treturn this[CHILDREN_FIELD].length > 0;\r\n\t\t}\r\n\t\tgetChildren(){\r\n\t\t\treturn this[CHILDREN_FIELD] || [];\r\n\t\t}\r\n\t\thasParent(){\r\n\t\t\tlet parent = this.getParent();\r\n\t\t\treturn _.isObject(parent);\r\n\t\t}\r\n\t\tgetParent(){\r\n\t\t\treturn this.getProperty('parent', {deep:false});\r\n\t\t}\r\n\r\n\t\t_initializeChildren(){\r\n\t\t\tlet _children = this.getProperty('children');\r\n\t\t\tthis[CHILDREN_FIELD] = _(_children).map((child) => {\r\n\r\n\t\t\t\tlet childContext = this._normalizeChildContext(child);\r\n\t\t\t\tif(childContext == null || !_.isFunction(childContext.Child)) return;\r\n\t\t\t\t\r\n\t\t\t\tlet opts = _.extend({}, childContext);\r\n\t\t\t\tif(this.getOption('passToChildren') === true){\r\n\t\t\t\t\t_.extend(opts, this.options);\r\n\t\t\t\t}\r\n\t\t\t\topts.parent = this;\r\n\t\t\t\t\t\r\n\t\t\t\tdelete opts.Child;\r\n\r\n\t\t\t\treturn new childContext.Child(opts);\r\n\r\n\t\t\t}).filter((f) => f != null);\r\n\t\t}\r\n\t\t_normalizeChildContext(child){\r\n\t\t\tlet childOptions = this.getChildOptions();\r\n\t\t\tlet childContext = {};\r\n\r\n\t\t\tif(_.isFunction(child) && child.Childrenable){\r\n\t\t\t\t_.extend(childContext, { Child: child }, childOptions);\r\n\t\t\t}else if(_.isFunction(child)){\r\n\t\t\t\tchildContext = this._normalizeChildContext(child.call(this));\r\n\t\t\t}\r\n\t\t\telse if(_.isObject(child)){\r\n\t\t\t\tchildContext = child;\r\n\t\t\t}\r\n\r\n\t\t\treturn childContext;\r\n\t\t}\r\n\t\tgetChildOptions(){\r\n\t\t\tlet opts = this.getProperty('childOptions');\r\n\t\t\treturn opts;\r\n\t\t}\r\n\t\t_initializeParrent(opts){\r\n\t\t\tif(this.parent == null && opts.parent != null)\r\n\t\t\t\tthis.parent = opts.parent;\r\n\t\t}\r\n\t}\r\n\r\n\tMixin.Childrenable = true;\r\n\r\n\treturn Mixin;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/mixins/childrenable.js","import Mn from 'backbone.marionette';\nimport YatPage from './YatPage';\nimport YatApp from './YatApp';\nimport YatObject from './YatObject';\nimport YatError from './YatError';\nimport YatRouter from './YatRouter';\nimport YatPageManager from './YatPageManager';\nimport Mixins from './mixins/Mixins';\nimport Helpers from './helpers/Helpers';\n\nconst marionetteYat = {\n\tHelpers: Helpers,\n\tMixins: Mixins,\n\tError: YatError,\n\tObject: YatObject,\n\tApp: YatApp,\n\tPage : YatPage,\n\tRouter: YatRouter,\n\tPageManager: YatPageManager,\n};\n\nMn.Yat = marionetteYat;\n\nexport default marionetteYat;\n\n\n\n// WEBPACK FOOTER //\n// ./src/marionette.yat.js","import App from './YatApp.js';\r\nimport mixin from './helpers/mixin';\r\nimport Startable from './mixins/startable';\r\nimport GetNameLabel from './mixins/get-name-label';\r\nimport Router from './YatRouter.js';\r\nimport Radio from 'backbone.radio';\r\nimport LinkModel from './models/link';\r\nimport {Collection} from 'backbone';\r\n\r\nexport default class extends mixin(App).with(GetNameLabel) {\r\n\tconstructor(...args){\r\n\t\tsuper(...args);\r\n\t\tthis.allowStopWithoutStart = true;\r\n\t\tthis.allowStartWithoutStop = true;\r\n\t\tthis.initializeYatPage();\r\n\t}\t\r\n\tinitializeYatPage(opts){\r\n\t\tthis._initializeModels(opts);\r\n\t\tthis._initializeRoute(opts);\r\n\t\tthis._tryCreateRouter();\r\n\t\tthis._tryProxyToRadio();\r\n\t}\r\n\r\n\tgetLayout(opts = {}){\r\n\t\tif(!this._layoutView || opts.rebuild || (this._layoutView && this._layoutView.isDestroyed && this._layoutView.isDestroyed())){\r\n\t\t\tthis.buildLayout();\r\n\t\t}\r\n\t\treturn this._layoutView;\r\n\t}\r\n\tbuildLayout(){\r\n\t\tlet Layout = this.getProperty('Layout');\r\n\t\tif(Layout == null) return;\r\n\t\tlet opts = _.extend({},this.getProperty('layoutOptions'));\r\n\r\n\t\tif(this.model && !opts.model)\r\n\t\t\t_.extend(opts,{model: this.model});\r\n\r\n\t\tif(this.collection && !opts.collection)\r\n\t\t\t_.extend(opts,{collection: this.collection});\r\n\t\t\t\r\n\t\tlet options = this.buildLayoutOptions(opts);\r\n\t\toptions.page = this;\r\n\t\tthis._layoutView = new Layout(options);\r\n\t\treturn this._layoutView;\r\n\t}\r\n\tbuildLayoutOptions(rawOptions){\r\n\t\treturn rawOptions;\r\n\t}\r\n\r\n\taddModel(model, opts = {}){\t\t\t\t\r\n\t\tif(!model) return;\r\n\t\tthis.model = model;\r\n\t\tlet fetch = opts.fetch || this.getOption('fetchModelOnAdd');\r\n\t\tif(fetch === undefined){\r\n\t\t\tfetch = this.getProperty('fetchDataOnAdd');\r\n\t\t}\r\n\t\tif(fetch === true){\r\n\t\t\tthis.addStartPromise(model.fetch(opts));\r\n\t\t}\r\n\t}\r\n\r\n\taddCollection(collection, opts = {}){\r\n\t\tif(!collection) return;\r\n\t\tthis.collection = collection;\r\n\t\tlet fetch = opts.fetch || this.getOption('fetchCollectionOnAdd');\r\n\t\tif(fetch === undefined){\r\n\t\t\tfetch = this.getProperty('fetchDataOnAdd');\r\n\t\t}\r\n\t\tif(fetch === true){\r\n\t\t\tthis.addStartPromise(collection.fetch(opts));\r\n\t\t}\r\n\t}\r\n\r\n\tgetRouteHash(){\r\n\r\n\t\tlet hashes = [{},this._routeHandler].concat(this.getChildren().map((children) => children.getRouteHash()))\r\n\t\treturn _.extend(...hashes);\r\n\r\n\t}\r\n\thasRouteHash(){\r\n\t\treturn _.isObject(this.getRouteHash())\r\n\t}\r\n\r\n\tgetLinkModel(level = 0){\r\n\t\tif(this._linkModel) return this._linkModel;\r\n\t\tlet url = this.getRoute();\r\n\t\tlet label = this.getLabel();\r\n\t\tlet children = this._getSublinks(level);\r\n\t\tthis._linkModel = new LinkModel({ url, label, level, children });\r\n\t\treturn this._linkModel;\r\n\t}\r\n\r\n\tgetParentLinkModel(){\r\n\t\tlet parent = this.getParent();\r\n\t\tif(!parent || !parent.getLinkModel) return;\r\n\t\tlet model = parent.getLinkModel();\r\n\t\treturn model;\r\n\t}\r\n\r\n\tgetNeighbourLinks(){\r\n\t\tlet link = this.getLinkModel();\r\n\t\tif(link.collection) return link.collection;\r\n\t}\r\n\t_getSublinks(level){\r\n\t\tlet children = this.getChildren();\r\n\t\tif(!children || !children.length) return;\r\n\t\tlet sublinks = _(children).map((child) => child.getLinkModel(level + 1));\r\n\t\tif(!sublinks.length) return;\r\n\t\tlet col = new Collection(sublinks);\r\n\t\treturn col;\r\n\t}\r\n\r\n\t_initializeModels(opts = {}){\r\n\t\tthis.addModel(opts.model, opts);\r\n\t\tthis.addCollection(opts.collection, opts);\r\n\t}\r\n\r\n\t_initializeRoute(){\r\n\t\tlet route = this.getRoute();\r\n\t\tif(route == null) return;\r\n\t\tthis._routeHandler = {\r\n\t\t\t[route]:{context:this, action: (...args) => this.start(...args) }\r\n\t\t};\r\n\t}\r\n\tgetRoute(){\r\n\t\tlet relative = this.getProperty('relativeRoute');\r\n\t\tlet route = this.getProperty('route');\r\n\t\tlet parent = this.getParent();\r\n\t\tif(route == null) return;\r\n\t\tif(!relative || !parent || !parent.getRoute) return route;\r\n\t\tlet parentRoute = parent.getRoute();\r\n\t\tif(parentRoute == null) return route;\r\n\t\tlet result = parentRoute + '/' + route;\r\n\t\tif(result.startsWith('/'))\r\n\t\t\tresult = result.substring(1);\r\n\t\treturn result;\r\n\t}\r\n\r\n\t_tryCreateRouter(){\r\n\t\tlet create = this.getProperty('createRouter') === true;\r\n\t\tif(create){\r\n\t\t\tthis.router = this._createAppRouter();\r\n\t\t}\r\n\t}\r\n\t_createAppRouter(){\r\n\t\tlet hash = this.getRouteHash();\r\n\t\tif(!_.size(hash)) return;\r\n\t\treturn new Router(hash);\r\n\t}\r\n\t_tryProxyToRadio(){\r\n\t\t\r\n\t\tlet channel = this.getChannel();\r\n\t\tif(!channel) return;\r\n\r\n\t\tthis.on('all', this._proxyEventToRadio)\r\n\r\n\t}\r\n\t_proxyEventToRadio(eventName, ...args){\r\n\t\tlet allowed = this.getProperty('proxyEventsToRadio');\r\n\t\tif(!allowed || !allowed.length || allowed.indexOf(eventName))\r\n\t\t\tthis.radioTrigger(`page:${eventName}`, ...[this].concat(args));\t\t\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/YatPage.js","module.exports = __WEBPACK_EXTERNAL_MODULE_16__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Backbone.Radio\"\n// module id = 16\n// module chunks = 0","import Model from './model'\r\nexport default Model.extend({\r\n\tdefaults:{\r\n\t\turl: undefined,\r\n\t\tlabel: undefined,\r\n\t\ttarget: '_self',\r\n\t\tlevel: 0,\r\n\t}\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/models/link.js","import {Model} from 'backbone';\r\nexport default class extends Model {\r\n\tconstructor(...args){\r\n\t\tsuper(...args);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/model.js","import Mn from 'backbone.marionette';\r\nimport mixin from './helpers/mixin.js';\r\nimport GetOptionProperty from './mixins/get-option-property.js';\r\nimport Radioable from './mixins/radioable.js';\r\n\r\nexport default class extends mixin(Mn.Object).with(GetOptionProperty, Radioable){\r\n\tconstructor(...args){ super(...args); }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/YatObject.js","import _ from 'underscore';\r\nimport App from './YatApp';\r\nimport GetNameLabel from './mixins/get-name-label';\r\nimport Router from './YatRouter';\r\nimport mixin from './helpers/mixin';\r\n\r\nclass YatPageManager extends mixin(App).with(GetNameLabel) {\r\n\tconstructor(...args){\r\n\t\tsuper(...args);\r\n\t\tthis._initializeYatPageManager(...args);\r\n\t}\r\n\tget initRadioOnInitialize() { return false; }\r\n\tgetChildOptions(){\r\n\t\tlet opts = super.getChildOptions() || {};\r\n\t\topts.channel = this.getChannel();\r\n\t\topts.passToChildren = true;\r\n\t\treturn opts;\r\n\t}\r\n\tcreateRouter(){\r\n\t\tlet children = this.getChildren();\r\n\t\tlet hash = {};\r\n\t\t_(children).each(function(page){\r\n\t\t\tif(_.isFunction(page.getRouteHash)){\r\n\t\t\t\t_.extend(hash, page.getRouteHash());\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.setRouter(new Router(hash));\r\n\t}\r\n\tsetRouter(router){\r\n\t\tthis.router = router;\r\n\t}\r\n\tgetRouter(){\r\n\t\treturn this.router;\r\n\t}\r\n\tgetLinks(){\r\n\t\tlet children = this.getChildren();\r\n\t\tif(!children) return;\r\n\t\treturn _(children).map((child) => child.getLinkModel());\r\n\t}\r\n\t_initializeYatPageManager(opts = {}){\r\n\t\tthis.mergeOptions(opts, ['id','name','label']);\r\n\t\tthis._initPageManagerRadio(opts);\r\n\t\tthis.createRouter();\r\n\r\n\t}\r\n\tgetChannel () {\r\n\t\tif(!this._channel) this._initPageManagerRadio(this.options);\r\n\t\treturn this._channel;\r\n\t}\r\n\t_initPageManagerRadio(opts = {})\r\n\t{\r\n\t\tif(this._radioInitialized) return;\r\n\r\n\t\tthis.mergeOptions(opts, ['channel','channelName']);\r\n\t\t//let channel = super.getChannel();\r\n\t\tlet name = this.getName();\r\n\t\tif(!this._channel && name){\r\n\t\t\tthis.channelName = `pagemanager:${name}`;\r\n\t\t\tsuper._initRadio({skip:false});\r\n\t\t}\r\n\t\tthis._registerRadioHandlers();\r\n\t\tthis._proxyRadioEvents();\r\n\t\tthis._radioInitialized = true;\r\n\t}\r\n\t_registerRadioHandlers(){\r\n\t\tlet channel = this.getChannel();\r\n\t\tif(this._radioHandlersRegistered || !channel) return;\r\n\r\n\t\tthis.listenTo(channel,'page:before:start', this._pageBeforeStart);\r\n\t\tthis.listenTo(channel,'page:start', this._pageStart);\r\n\t\t\r\n\t\tthis._radioHandlersRegistered = true;\r\n\t}\r\n\t_proxyRadioEvents(){\r\n\t\tlet channel = this.getChannel();\r\n\t\tif(this._radioEventsProxied || !channel) return;\r\n\r\n\r\n\t\tlet proxyRadioEvents = this.getProperty('proxyRadioEvents') || [];\r\n\t\t_(['page:before:start', 'page:start'].concat(proxyRadioEvents)).each((event) => {\r\n\t\t\tthis.listenTo(channel, event, (...args) => this.triggerMethod(event, ...args));\r\n\t\t});\r\n\r\n\t\tthis._radioEventsProxied = true;\r\n\r\n\t}\r\n\t_pageBeforeStart(page){\r\n\t\tlet current = this.getState('currentPage');\r\n\t\tif(current && current != page){\r\n\t\t\tcurrent.stop();\r\n\t\t}\r\n\t}\r\n\t_pageStart(page){\r\n\t\tthis.setState('currentPage', page);\r\n\t}\r\n}\r\n\r\nexport default YatPageManager;\n\n\n// WEBPACK FOOTER //\n// ./src/YatPageManager.js","import GetNameLabel from './get-name-label';\r\nimport GetOptionProperty from './get-option-property';\r\nimport Radioable from './radioable.js';\r\nimport Startable from './startable';\r\nimport Stateable from './stateable';\r\nimport Childrenable from './childrenable';\r\nexport default {\r\n\tGetNameLabel,\r\n\tGetOptionProperty,\r\n\tRadioable,\r\n\tStateable,\r\n\tStartable,\r\n\tChildrenable,\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/mixins/Mixins.js","import isKnownCtor from './isKnownCtor';\r\nimport mixin from './mixin';\r\nexport default {\r\n\tisKnownCtor,\r\n\tmixin,\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/Helpers.js"],"sourceRoot":""}